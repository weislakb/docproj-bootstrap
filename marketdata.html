<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Market Data &mdash; TWS API 9.72 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '9.72',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="TWS API 9.72 documentation" href="index.html" />
    <link rel="next" title="Orders" href="orders.html" />
    <link rel="prev" title="Connection and Server" href="connectionandserver.html" />
    <link rel="stylesheet" media="screen" type="text/css" href="_static/menu.css">
    <link rel="stylesheet" media="screen" type="text/css" href="_static/style-overrides.css">
    
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">



<!-- TOP NAVIGATION -->
<header class="noprint">
    <div class="navbartop megamenu navbartop-inverse navbartop-fixed-top hidden-xs">
        <div class="container">
            <div class="navbar-header">
                <a href="index.html" target="_self" class="navbar-brand"><img src="_static/nav_iblogo.png" alt="Interactive Brokers"></a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                <!-- SEARCH -->
                <li class="hidden-sm">
                    <div class="search_box">
                      <form action="search.html" method="get" class="search_form">
                          <input type="text" style="width:189px;" placeholder="SEARCH" name="q" class="s swap_value searchinput" id="searchField">
                          <input type="submit" style="outline:none;" class="searchsubmit" id="submit" value="">
                          <input type="hidden" name="check_keywords" value="yes" />
                          <input type="hidden" name="area" value="default" />
                      </form>
                    </div>
                </li>
                <!-- SEARCH SMALL -->
                <li class="hidden-xs hidden-md hidden-lg">
                    <a href="search.html" target="_self">Search <img src="_static/nav_icon_search_black.png" alt="" border="0" style="margin:-6px 0px 0px 5px;" /></a>
                </li>
                <!-- LOG IN -->
                <li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle log-in">Log In <b class="caret"></b></a>
                    <ul class="dropdown-menu dropdown-menu-right">
                    <li>
                    <div class="megamenu-content">
                        <div class="row">
                            <ul class="col-sm-4 list-unstyled">
                            <li class="hidden-xs"><p>Trader Workstation</p></li>
                            <li><a href="https://www.interactivebrokers.com/en/index.php?f=556" target="_self" title="This is the most recent stable version of TWS, and it that contains all of the most recently tested and approved tools and features. - TWS Latest v9531 published Oct 14 2015">TWS Latest</a></li>
                            <li><a href="https://www.interactivebrokers.com/en/index.php?f=553" target="_self" title="This time-tested version of TWS changes less frequently than the Latest version and offers maximum stability, but does not include all of the newest features. - TWS Production v9395 published May 7 2015">TWS</a></li>
                            <li><a href="https://www.interactivebrokers.com/en/index.php?f=554" target="_self" title="TWS Beta allows you to trade your live IB account. It includes all of the newest TWS features, but is still being tested and is likely to change before it is promoted to Latest. - TWS Beta v9540 published Oct 14 2015">TWS Beta</a></li>
                            </ul>
                            <ul class="col-sm-4 list-unstyled">
                            <li class="hidden-xs"><p>Account Management</p></li>
                            <li><a href="https://gdcdyn.interactivebrokers.com/sso/Login" target="_blank" title="Configure, manage and monitor all facets of your IB account including research and market data subscriptions, reporting, funding, trading and more.">Account Management</a></li>
                            <li><a href="https://gdcdyn.interactivebrokers.com/sso/Login?c=t" target="_blank" title="Log into your account to pick up where you left off on your IB application.">Complete an Application</a></li>
                            </ul>
                        </div>
                        <div class="row">
                            <ul class="col-sm-4 list-unstyled">
                            <li class="hidden-xs"><p>WebTrader</p></li>
                            <li><a href="https://gre.wgw.interactivebrokers.com/webtrader/servlet/login" target="_blank" title="Our HTML-based trading platform with a simpler trading interface than TWS, but still feature-rich with key advanced trading tools.">WebTrader</a></li>
                            <li><a href="https://ch.wgw.interactivebrokers.com/webtraderbeta/servlet/login" target="_blank" title="WebTrader Beta allows you to trade your live IB account. It includes all of the newest WebTrader features but is still being tested and is subject to change before it is promoted.">WebTrader Beta</a></li>
                            </ul>
                            <ul class="col-sm-4 list-unstyled">
                            <li class="hidden-xs"><p>API Access</p></li>
                            <li><a href="https://www.interactivebrokers.com/java/classes/ibg.latest.jnlp" target="_self" title="Run your API through the IB Gateway as an alternative to running TWS. This version runs the same code and has the same features as TWS. - IB Gateway v9395 published May 7 2015">IB Gateway</a></li>
                            <li><a href="https://www.interactivebrokers.com/java/classes/ibg.beta.jnlp" target="_self"  title="Run your API through the IB Gateway Beta as an alternative to running TWS Beta. This version runs the same code. has the same features and is subject to the same testing and changes as the TWS Beta. - IB Gateway Beta v9540 published Oct 14 2015">IB Gateway Beta</a></li>
                            </ul>
                        </div>
                    </div>
                    </li>
                    </ul>
                </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- END TOP NAVIGATION -->
    <!-- BOTTOM NAVIGATION -->
    <div class="navbar megamenu navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header hidden-lg hidden-md hidden-sm">
                <button type="button" data-toggle="collapse" data-target="#navbar-collapse-1" class="navbar-toggle">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="https://www.interactivebrokers.com/en/home.php" class="navbar-brand"><img src="_static/nav_iblogo.png" alt="Interactive Brokers"></a>
            </div>
            <div id="navbar-collapse-1" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                <!-- SITES -->
                <!--<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="connectionandserver.html">Connection and Server</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Market Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requesting">Requesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#receiving">Receiving</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contract-types">Contract Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orders.html">Orders</a><ul>
<li class="toctree-l2"><a class="reference internal" href="orders.html#placing">Placing</a></li>
<li class="toctree-l2"><a class="reference internal" href="orders.html#order-types">Order Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="accountandportfolio.html">Account and Portfolio</a></li>
<li class="toctree-l1"><a class="reference internal" href="executions.html">Executions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contractdetails.html">Contract Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="marketdepth.html">Market Depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="newsbulletins.html">News Bulletins</a></li>
<li class="toctree-l1"><a class="reference internal" href="financialadvisors.html">Financial Advisors</a></li>
<li class="toctree-l1"><a class="reference internal" href="marketscanners.html">Market Scanners</a></li>
<li class="toctree-l1"><a class="reference internal" href="historicaldata.html">Historical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="realtimebars.html">Realtime Bars</a></li>
<li class="toctree-l1"><a class="reference internal" href="fundamentaldata.html">Fundamental Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaygroups.html">Display Groups</a></li>
</ul>
-->
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class='dropdown'>Selected programming language</li>
                    <li class='dropdown'><a href='#' data-toggle='dropdown' class='dropdown-toggle'>JAVA</a></li>
                    <li class='dropdown'><a href='#' data-toggle='dropdown' class='dropdown-toggle'>C#</a></li>
                    <li class='dropdown'><a href='#' data-toggle='dropdown' class='dropdown-toggle'>C++</a></li>
                    <li class='dropdown'><a href='#' data-toggle='dropdown' class='dropdown-toggle'>ACTIVEX</a></li>
                    <li class='dropdown'><a href='#' data-toggle='dropdown' class='dropdown-toggle'>EXCEL DDE</a></li>
                    <!-- SEARCH MOBILE -->
                    <li class="hidden-lg hidden-md hidden-sm"><a href="search.html" target="_blank">Search</a></li>
                    <!-- LOGIN MOBILE -->
                </ul>
            </div>
        </div>
    </div>
<!-- END BOTTOM NAVIGATION -->
</header>




  </head>
  <body role="document">

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav hidden-print hidden-xs hidden-sm" role="complementary">
  <div class="hidden-print hidden-xs hidden-sm" role="navigation" aria-label="main navigation">
    
      
      
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="connectionandserver.html">Connection and Server</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Market Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requesting">Requesting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#receiving">Receiving</a></li>
<li class="toctree-l2"><a class="reference internal" href="#contract-types">Contract Types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="orders.html">Orders</a></li>
<li class="toctree-l1"><a class="reference internal" href="accountandportfolio.html">Account and Portfolio</a></li>
<li class="toctree-l1"><a class="reference internal" href="executions.html">Executions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contractdetails.html">Contract Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="marketdepth.html">Market Depth</a></li>
<li class="toctree-l1"><a class="reference internal" href="newsbulletins.html">News Bulletins</a></li>
<li class="toctree-l1"><a class="reference internal" href="financialadvisors.html">Financial Advisors</a></li>
<li class="toctree-l1"><a class="reference internal" href="marketscanners.html">Market Scanners</a></li>
<li class="toctree-l1"><a class="reference internal" href="historicaldata.html">Historical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="realtimebars.html">Realtime Bars</a></li>
<li class="toctree-l1"><a class="reference internal" href="fundamentaldata.html">Fundamental Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="displaygroups.html">Display Groups</a></li>
</ul>

      
    
  </div>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="market-data">
<h1>Market Data<a class="headerlink" href="#market-data" title="Permalink to this headline">¶</a></h1>
<p>Using the TWS API, you can request realtime market data for trading and analysis.</p>
<div class="section" id="requesting">
<h2>Requesting<a class="headerlink" href="#requesting" title="Permalink to this headline">¶</a></h2>
<p>In order to receive live quotes, you must first make the request call within your API program.  After requesting the data, the values will be supplied to one of the wrapper methods described below.</p>
<dl class="function">
<dt id="_CPPv210reqMktDatai8Contract6stringb4ListI8TagValueE">
<span id="reqMktData__i.Contract.string.b.List:TagValue:"></span><span class="target" id="project0class_i_b_api_1_1_e_client_a5b7d2f3048b2be5c9c3a87c18fb01dd3_1a5b7d2f3048b2be5c9c3a87c18fb01dd3"></span>void <code class="descclassname"></code><code class="descname">reqMktData</code><span class="sig-paren">(</span>int <em>tickerId</em>, Contract <em>contract</em>, string <em>genericTickList</em>, bool <em>snapshot</em>, List&lt;TagValue&gt; <em>mktDataOptions</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv210reqMktDatai8Contract6stringb4ListI8TagValueE" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests real time market data. This function will return the product&#8217;s market data. It is important to notice that only real time data can be delivered via the API. </p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#project0class_i_b_api_1_1_e_client_af443a1cd993aee33ce67deb7bc39e484_1af443a1cd993aee33ce67deb7bc39e484"><span>cancelMktData</span></a>, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_aff4ae3269d7b13dd1ca989a8d5ca1ced_1aff4ae3269d7b13dd1ca989a8d5ca1ced"><span>EWrapper::tickPrice</span></a>, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a1844eb442fb657c0f2cc0a63e4e74eba_1a1844eb442fb657c0f2cc0a63e4e74eba"><span>EWrapper::tickSize</span></a>, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a19cb7c5bbd4ab05ccc5f9e686ed07a9e_1a19cb7c5bbd4ab05ccc5f9e686ed07a9e"><span>EWrapper::tickString</span></a>, EWrapper::tickEFP, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a9901f14408b7a6f75b1d06e3e6196a26_1a9901f14408b7a6f75b1d06e3e6196a26"><span>EWrapper::tickGeneric</span></a>, EWrapper::tickOption, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_1a2d1c80705657202c82a0b8708ad0e169"><span>EWrapper::tickSnapshotEnd</span></a> </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">tickerId</span></code> - <p>the request&#8217;s identifier </p>
</li>
<li><code class="first docutils literal"><span class="pre">contract</span></code> - <p>the Contract for which the data is being requested </p>
</li>
<li><code class="first docutils literal"><span class="pre">genericTickList</span></code> - <p>comma separated ids of the available generic ticks:<ul class="simple">
<li>100 Option Volume (currently for stocks)</li>
<li>101 Option Open Interest (currently for stocks)</li>
<li>104 Historical Volatility (currently for stocks)</li>
<li>106 Option Implied Volatility (currently for stocks)</li>
<li>162 Index Future Premium</li>
<li>165 Miscellaneous Stats</li>
<li>221 Mark Price (used in TWS P&amp;L computations)</li>
<li>225 Auction values (volume, price and imbalance)</li>
<li>233 RTVolume - contains the last trade price, last trade size, last trade time, total volume, VWAP, and single trade flag.</li>
<li>236 Shortable</li>
<li>256 Inventory</li>
<li>258 Fundamental Ratios</li>
<li>411 Realtime Historical Volatility</li>
<li>456 IBDividends </li>
</ul>
</p>
</li>
<li><code class="first docutils literal"><span class="pre">snapshot</span></code> - <p>when set to true, it will provide a single snapshot of the available data. Set to false if you want to receive continuous updates. </p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<p><strong>Cancelling Streaming Data</strong></p>
<p>Each request call creates a streaming ticker feed from the TWS API server to your TWS API client.  Most IB accounts are eligible for 100 simultaneous quote lines.  If you request more than that, or if you are no longer using a ticker stream, use the cancelMktData method to cancel the subscription.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also use the snapshot parameter mentioned above in the <a class="reference internal" href="#_CPPv210reqMktDatai8Contract6stringb4ListI8TagValueE" title="reqMktData"><code class="xref any cpp cpp-func docutils literal"><span class="pre">reqMktData</span></code></a> function to request a one-time quote.</p>
</div>
<dl class="function">
<dt id="_CPPv213cancelMktDatai">
<span id="cancelMktData__i"></span><span class="target" id="project0class_i_b_api_1_1_e_client_af443a1cd993aee33ce67deb7bc39e484_1af443a1cd993aee33ce67deb7bc39e484"></span>void <code class="descclassname"></code><code class="descname">cancelMktData</code><span class="sig-paren">(</span>int <em>tickerId</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv213cancelMktDatai" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels a RT Market Data request. </p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd><a class="reference internal" href="#project0class_i_b_api_1_1_e_client_a5b7d2f3048b2be5c9c3a87c18fb01dd3_1a5b7d2f3048b2be5c9c3a87c18fb01dd3"><span>reqMktData</span></a> </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">tickerId</span></code> - <p>request&#8217;s identifier </p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="receiving">
<h2>Receiving<a class="headerlink" href="#receiving" title="Permalink to this headline">¶</a></h2>
<p>After subscribing to the ticker stream, your API client will receive the data supplied by the TWS API server via several methods.  In your API client code, you will need to implement these methods to manipulate the data relayed back to the client.</p>
<p>The tickPrice method receives price values, such as bid, ask, and last prices.</p>
<dl class="function">
<dt id="_CPPv29tickPriceiidi">
<span id="tickPrice__i.i.double.i"></span><span class="target" id="project0interface_i_b_api_1_1_e_wrapper_aff4ae3269d7b13dd1ca989a8d5ca1ced_1aff4ae3269d7b13dd1ca989a8d5ca1ced"></span>void <code class="descclassname"></code><code class="descname">tickPrice</code><span class="sig-paren">(</span>int <em>tickerId</em>, int <em>field</em>, double <em>price</em>, int <em>canAutoExecute</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv29tickPriceiidi" title="Permalink to this definition">¶</a></dt>
<dd><p>Market data tick price callback. Handles all price related ticks. </p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd>TickType, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a1844eb442fb657c0f2cc0a63e4e74eba_1a1844eb442fb657c0f2cc0a63e4e74eba"><span>tickSize</span></a>, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a19cb7c5bbd4ab05ccc5f9e686ed07a9e_1a19cb7c5bbd4ab05ccc5f9e686ed07a9e"><span>tickString</span></a>, tickEFP, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a9901f14408b7a6f75b1d06e3e6196a26_1a9901f14408b7a6f75b1d06e3e6196a26"><span>tickGeneric</span></a>, tickOptionComputation, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_1a2d1c80705657202c82a0b8708ad0e169"><span>tickSnapshotEnd</span></a>, marketDataType, EClientSocket::reqMktData </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">tickerId</span></code> - <p>the request&#8217;s unique identifier. </p>
</li>
<li><code class="first docutils literal"><span class="pre">field</span></code> - <p>the type of the price being received (i.e. ask price). </p>
</li>
<li><code class="first docutils literal"><span class="pre">price</span></code> - <p>the actual price. </p>
</li>
<li><code class="first docutils literal"><span class="pre">canAutoExecute</span></code> - <p>Specifies whether the price tick is available for automatic execution (1) or not (0). </p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<p>The <a class="reference internal" href="#_CPPv29tickPriceiidi" title="tickPrice"><code class="xref any cpp cpp-func docutils literal"><span class="pre">tickPrice</span></code></a> method receives size values, such as bid, ask, and last sizes.</p>
<dl class="function">
<dt id="_CPPv28tickSizeiii">
<span id="tickSize__i.i.i"></span><span class="target" id="project0interface_i_b_api_1_1_e_wrapper_a1844eb442fb657c0f2cc0a63e4e74eba_1a1844eb442fb657c0f2cc0a63e4e74eba"></span>void <code class="descclassname"></code><code class="descname">tickSize</code><span class="sig-paren">(</span>int <em>tickerId</em>, int <em>field</em>, int <em>size</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv28tickSizeiii" title="Permalink to this definition">¶</a></dt>
<dd><p>Market data tick size callback. Handles all size-related ticks. </p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd>reqMarketData() </dd>
<dt><strong>See</strong></dt>
<dd>TickType, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_aff4ae3269d7b13dd1ca989a8d5ca1ced_1aff4ae3269d7b13dd1ca989a8d5ca1ced"><span>tickPrice</span></a>, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a19cb7c5bbd4ab05ccc5f9e686ed07a9e_1a19cb7c5bbd4ab05ccc5f9e686ed07a9e"><span>tickString</span></a>, tickEFP, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a9901f14408b7a6f75b1d06e3e6196a26_1a9901f14408b7a6f75b1d06e3e6196a26"><span>tickGeneric</span></a>, tickOptionComputation, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_1a2d1c80705657202c82a0b8708ad0e169"><span>tickSnapshotEnd</span></a>, marketDataType, EClientSocket::reqMktData </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">tickerId</span></code> - <p>the request&#8217;s unique identifier. </p>
</li>
<li><code class="first docutils literal"><span class="pre">field</span></code> - <p>the type of size being received (i.e. bid size) </p>
</li>
<li><code class="first docutils literal"><span class="pre">size</span></code> - <p>the actual size. </p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<p>The <a class="reference internal" href="#_CPPv211tickGenericiid" title="tickGeneric"><code class="xref any cpp cpp-func docutils literal"><span class="pre">tickGeneric</span></code></a> and <a class="reference internal" href="#_CPPv210tickStringii6string" title="tickString"><code class="xref any cpp cpp-func docutils literal"><span class="pre">tickString</span></code></a> methods receive the extra tick types which you can request.  These provide information other than NBBO prices and sizes, such as open interest or shortable inventory.</p>
<dl class="function">
<dt id="_CPPv211tickGenericiid">
<span id="tickGeneric__i.i.double"></span><span class="target" id="project0interface_i_b_api_1_1_e_wrapper_a9901f14408b7a6f75b1d06e3e6196a26_1a9901f14408b7a6f75b1d06e3e6196a26"></span>void <code class="descclassname"></code><code class="descname">tickGeneric</code><span class="sig-paren">(</span>int <em>tickerId</em>, int <em>field</em>, double <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv211tickGenericiid" title="Permalink to this definition">¶</a></dt>
<dd><p>Market data callback. </p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">tickerId</span></code> - <p>the request&#8217;s unique identifier. </p>
</li>
<li><code class="first docutils literal"><span class="pre">field</span></code> - <p>the type of tick being received. </p>
</li>
<li><code class="first docutils literal"><span class="pre">value</span></code> - <p></p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv210tickStringii6string">
<span id="tickString__i.i.string"></span><span class="target" id="project0interface_i_b_api_1_1_e_wrapper_a19cb7c5bbd4ab05ccc5f9e686ed07a9e_1a19cb7c5bbd4ab05ccc5f9e686ed07a9e"></span>void <code class="descclassname"></code><code class="descname">tickString</code><span class="sig-paren">(</span>int <em>tickerId</em>, int <em>field</em>, string <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv210tickStringii6string" title="Permalink to this definition">¶</a></dt>
<dd><p>Market data callback. </p>
<p><dl class="docutils">
<dt><strong>See</strong></dt>
<dd>TickType, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a1844eb442fb657c0f2cc0a63e4e74eba_1a1844eb442fb657c0f2cc0a63e4e74eba"><span>tickSize</span></a>, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_aff4ae3269d7b13dd1ca989a8d5ca1ced_1aff4ae3269d7b13dd1ca989a8d5ca1ced"><span>tickPrice</span></a>, tickEFP, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_a9901f14408b7a6f75b1d06e3e6196a26_1a9901f14408b7a6f75b1d06e3e6196a26"><span>tickGeneric</span></a>, tickOptionComputation, <a class="reference internal" href="#project0interface_i_b_api_1_1_e_wrapper_1a2d1c80705657202c82a0b8708ad0e169"><span>tickSnapshotEnd</span></a>, marketDataType, EClientSocket::reqMktData </dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last">
<li><code class="first docutils literal"><span class="pre">tickerId</span></code> - <p>the request&#8217;s unique identifier. </p>
</li>
<li><code class="first docutils literal"><span class="pre">field</span></code> - <p>the type of the tick being received </p>
</li>
<li><code class="first docutils literal"><span class="pre">value</span></code> - <p></p>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<p>The <a class="reference internal" href="#_CPPv215tickSnapshotEndi" title="tickSnapshotEnd"><code class="xref any cpp cpp-func docutils literal"><span class="pre">tickSnapshotEnd</span></code></a> signals that all the values for a snapshot request have been received.  This is only applicable if you made a request for snapshot quotes in your <a class="reference internal" href="#_CPPv210reqMktDatai8Contract6stringb4ListI8TagValueE" title="reqMktData"><code class="xref any cpp cpp-func docutils literal"><span class="pre">reqMktData</span></code></a> function call.</p>
<dl class="function">
<dt id="_CPPv215tickSnapshotEndi">
<span id="tickSnapshotEnd__i"></span><span class="target" id="project0interface_i_b_api_1_1_e_wrapper_1a2d1c80705657202c82a0b8708ad0e169"></span>void <code class="descclassname"></code><code class="descname">tickSnapshotEnd</code><span class="sig-paren">(</span>int <em>tickerId</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv215tickSnapshotEndi" title="Permalink to this definition">¶</a></dt>
<dd><p>When requesting market data snapshots, this market will indicate the snapshot reception is finished. </p>
</dd></dl>

</div>
<div class="section" id="contract-types">
<h2>Contract Types<a class="headerlink" href="#contract-types" title="Permalink to this headline">¶</a></h2>
<p>In order to request market data, you need to define a contract object.  Here are some examples of defining a contract object for various products you can trade at IB:</p>
<div class="section" id="us-stock">
<h3>US Stock<a class="headerlink" href="#us-stock" title="Permalink to this headline">¶</a></h3>
<div class="csharp-code-example container" id="usstock-csharp">
<p><strong>csharp</strong></p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="p">();</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Symbol</span> <span class="p">=</span> <span class="s">&quot;IBKR&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">SecType</span> <span class="p">=</span> <span class="s">&quot;STK&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Currency</span> <span class="p">=</span> <span class="s">&quot;USD&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Exchange</span> <span class="p">=</span> <span class="s">&quot;SMART&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="java-code-example container" id="usstock-java">
<p><strong>java</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="o">();</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Symbol</span> <span class="o">=</span> <span class="s">&quot;IBKR&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">SecType</span> <span class="o">=</span> <span class="s">&quot;STK&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Currency</span> <span class="o">=</span> <span class="s">&quot;USD&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Exchange</span> <span class="o">=</span> <span class="s">&quot;SMART&quot;</span><span class="o">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="european-stock">
<h3>European Stock<a class="headerlink" href="#european-stock" title="Permalink to this headline">¶</a></h3>
<div class="csharp-code-example container" id="europeanstock-csharp">
<p><strong>csharp</strong></p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="p">();</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Symbol</span> <span class="p">=</span> <span class="s">&quot;SMTPC&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">SecType</span> <span class="p">=</span> <span class="s">&quot;STK&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Currency</span> <span class="p">=</span> <span class="s">&quot;EUR&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Exchange</span> <span class="p">=</span> <span class="s">&quot;BATEEN&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="java-code-example container" id="europeanstock-java">
<p><strong>java</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="o">();</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Symbol</span> <span class="o">=</span> <span class="s">&quot;SMTPC&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">SecType</span> <span class="o">=</span> <span class="s">&quot;STK&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Currency</span> <span class="o">=</span> <span class="s">&quot;EUR&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Exchange</span> <span class="o">=</span> <span class="s">&quot;BATEEN&quot;</span><span class="o">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="currency-pair">
<h3>Currency Pair<a class="headerlink" href="#currency-pair" title="Permalink to this headline">¶</a></h3>
<div class="csharp-code-example container" id="eurgbpfx-csharp">
<p><strong>csharp</strong></p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="p">();</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Symbol</span> <span class="p">=</span> <span class="s">&quot;EUR&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">SecType</span> <span class="p">=</span> <span class="s">&quot;CASH&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Currency</span> <span class="p">=</span> <span class="s">&quot;GBP&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Exchange</span> <span class="p">=</span> <span class="s">&quot;IDEALPRO&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="java-code-example container" id="eurgbpfx-java">
<p><strong>java</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="o">();</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Symbol</span> <span class="o">=</span> <span class="s">&quot;EUR&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">SecType</span> <span class="o">=</span> <span class="s">&quot;CASH&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Currency</span> <span class="o">=</span> <span class="s">&quot;GBP&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Exchange</span> <span class="o">=</span> <span class="s">&quot;IDEALPRO&quot;</span><span class="o">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="option">
<h3>Option<a class="headerlink" href="#option" title="Permalink to this headline">¶</a></h3>
<div class="csharp-code-example container" id="normaloption-csharp">
<p><strong>csharp</strong></p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="p">();</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Symbol</span> <span class="p">=</span> <span class="s">&quot;BAYN&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">SecType</span> <span class="p">=</span> <span class="s">&quot;OPT&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Exchange</span> <span class="p">=</span> <span class="s">&quot;DTB&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Currency</span> <span class="p">=</span> <span class="s">&quot;EUR&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">LastTradeDateOrContractMonth</span> <span class="p">=</span> <span class="s">&quot;20161216&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Strike</span> <span class="p">=</span> <span class="m">100</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Right</span> <span class="p">=</span> <span class="s">&quot;C&quot;</span><span class="p">;</span>
<span class="n">contract</span><span class="p">.</span><span class="n">Multiplier</span> <span class="p">=</span> <span class="s">&quot;100&quot;</span><span class="p">;</span>
<span class="c1">//Often, contracts will also require a trading class to rule out ambiguities</span>
<span class="n">contract</span><span class="p">.</span><span class="n">TradingClass</span> <span class="p">=</span> <span class="s">&quot;BAY&quot;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="java-code-example container" id="normaloption-java">
<p><strong>java</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Contract</span> <span class="n">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Contract</span><span class="o">();</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Symbol</span> <span class="o">=</span> <span class="s">&quot;BAYN&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">SecType</span> <span class="o">=</span> <span class="s">&quot;OPT&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Exchange</span> <span class="o">=</span> <span class="s">&quot;DTB&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Currency</span> <span class="o">=</span> <span class="s">&quot;EUR&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">LastTradeDateOrContractMonth</span> <span class="o">=</span> <span class="s">&quot;20161216&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Strike</span> <span class="o">=</span> <span class="mi">100</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Right</span> <span class="o">=</span> <span class="s">&quot;C&quot;</span><span class="o">;</span>
<span class="n">contract</span><span class="o">.</span><span class="na">Multiplier</span> <span class="o">=</span> <span class="s">&quot;100&quot;</span><span class="o">;</span>
<span class="c1">//Often, contracts will also require a trading class to rule out ambiguities</span>
<span class="n">contract</span><span class="o">.</span><span class="na">TradingClass</span> <span class="o">=</span> <span class="s">&quot;BAY&quot;</span><span class="o">;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Brandon.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>